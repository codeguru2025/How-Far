# ============================================
# Ndeip - Zthin Environment Configuration
# ============================================
# Rename this file to .env and fill in your values
# NEVER commit .env to version control
# ============================================

# ============================================
# SUPABASE CONFIGURATION
# ============================================
# Get these from: https://app.supabase.com/project/_/settings/api
SUPABASE_URL=https://your-project-ref.supabase.co
SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# ============================================
# PAYNOW INTEGRATION (Zimbabwe)
# ============================================
# Get these from your PayNow merchant dashboard:
# 1. Log into https://www.paynow.co.zw/
# 2. Go to "Receive Payments" > "Other Ways to Integrate"
# 3. Find your Integration ID and Keys

# Your PayNow Merchant/Integration ID
PAYNOW_MERCHANT_ID=your-merchant-id

# API Client Key for authentication
PAYNOW_CLIENT_KEY=your-client-key

# API Client Secret for signing requests
PAYNOW_CLIENT_SECRET=your-client-secret

# Webhook Secret for verifying incoming webhooks
# Generate this in PayNow dashboard under Webhook Settings
PAYNOW_WEBHOOK_SECRET=your-webhook-secret

# PayNow API URLs (do not change unless PayNow updates these)
PAYNOW_INIT_URL=https://www.paynow.co.zw/interface/initiatetransaction
PAYNOW_STATUS_URL=https://www.paynow.co.zw/interface/pollstatus

# Result and Return URLs for PayNow redirects
PAYNOW_RESULT_URL=https://your-project-ref.supabase.co/functions/v1/paynowWebhook
PAYNOW_RETURN_URL=ndeipzthin://payment/complete

# ============================================
# BANK DETAILS ENCRYPTION
# ============================================
# Generate a secure 256-bit key:
# openssl rand -base64 32
# 
# CRITICAL: Keep this key secure! If lost, encrypted bank details
# cannot be recovered. Back up this key securely.
BANK_DETAILS_ENCRYPTION_KEY=your-base64-encoded-32-byte-key

# ============================================
# SMS PROVIDER (for Password Reset)
# ============================================
# Supported providers: twilio, africas_talking, termii
# Configure based on your chosen provider

SMS_PROVIDER=twilio

# Twilio Configuration
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+15551234567

# AfricasTalking Configuration (alternative)
# AT_API_KEY=your-at-api-key
# AT_USERNAME=your-at-username
# AT_SENDER_ID=NdeipZthin

# Generic SMS API (if using other provider)
SMS_PROVIDER_URL=https://api.smsprovider.com/send
SMS_PROVIDER_KEY=your-sms-api-key
SMS_PROVIDER_SENDER_ID=NdeipZthin

# Development mode - logs SMS instead of sending
# Set to false in production!
SMS_DEV_MODE=true

# ============================================
# MAPS CONFIGURATION
# ============================================
# Mapbox (Primary)
# Get from: https://account.mapbox.com/
MAPBOX_ACCESS_TOKEN=your-mapbox-access-token

# Google Maps (Fallback/Satellite)
# Get from: https://console.cloud.google.com/google/maps-apis
GOOGLE_MAPS_API_KEY=your-google-maps-api-key

# ============================================
# APP CONFIGURATION
# ============================================
# App environment: development, staging, production
APP_ENV=development

# Base URL for deep links
APP_DEEP_LINK_URL=ndeipzthin://

# API timeout in seconds
API_TIMEOUT=30

# ============================================
# SECURITY SETTINGS
# ============================================
# JWT settings (Supabase handles this, but for reference)
JWT_EXPIRY_SECONDS=3600
REFRESH_TOKEN_EXPIRY_DAYS=7

# Password reset token expiry in minutes
PASSWORD_RESET_TOKEN_EXPIRY_MINUTES=15

# Rate limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_AUTH_ATTEMPTS=5

# ============================================
# SETTLEMENT CONFIGURATION
# ============================================
# Settlement schedule: daily, weekly
SETTLEMENT_SCHEDULE=daily

# Minimum payout amount in local currency
MIN_PAYOUT_AMOUNT=10.00

# Settlement processing fee percentage
SETTLEMENT_FEE_PERCENTAGE=2.5

# ============================================
# FEATURE FLAGS
# ============================================
# Enable/disable features
FEATURE_GUARDIAN_CONSENT=true
FEATURE_SOS_ALERTS=true
FEATURE_TRIP_SHARING=true
FEATURE_SATELLITE_MAPS=true
FEATURE_BIOMETRIC_AUTH=true

# ============================================
# LOGGING & MONITORING
# ============================================
# Log level: debug, info, warn, error
LOG_LEVEL=info

# Sentry DSN for error tracking (optional)
SENTRY_DSN=

# ============================================
# TESTING
# ============================================
# Test phone numbers that bypass SMS verification
# Comma-separated, E.164 format
TEST_PHONE_NUMBERS=+263700000001,+263700000002

# Test password for development
TEST_PASSWORD=TestPass123!



